---

- hosts: main
  vars:
    user: ubuntu
    user_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30666535393261326334363963356637643233363732393930613932656261643734643830633165
          3866636432306434373739636662333030333139376637380a383136306461663463333235303261
          66363135306264633438393363613637623238383665613764613165326462613665646263623166
          3132303232636538370a613234343337643462643432313637663763633533336130643134613966
          3763
    main_directory: /home/'{{ user }}'/GreenIoT-MQTT-To-Elastic
    docker_network: greeniot
  become: yes
  become_method: sudo

  roles:
    - docker
    - elastic-cluster
    - mqtt-to-elastic
